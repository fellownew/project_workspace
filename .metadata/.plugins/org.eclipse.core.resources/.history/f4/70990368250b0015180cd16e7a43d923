<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="recipient.dao.recipient">

<insert id="insertRecipient" parameterType="recipient">
<selectKey keyProperty="orderId" order="BEFORE" resultType="_int">select recipient_no_seq.nextval from dual</selectKey>
   insert into recipient values(#{orderId},#{productId},#{amount},#{status},#{buyerId},#{sellerId})
</insert>

<insert id="insertOrder" parameterType="order" >						
<selectKey keyProperty="orderId" order="BEFORE" resultType="_int">select order_no.nextval from dual</selectKey>
   insert into orders values(#{orderId},#{productId},#{amount},#{status},#{buyerId},#{sellerId})
</insert>


<sql id="select-order-default" >
	select 	o.order_id, o.product_id, o.buyer_id, o.amount, o.status, 
			p.product_id, p.product_name, p.product_price, p.category, p.product_info,p.image_path, p.regi_date,p.exp_date, p.seller_id,
			b.buyer_id, b.password, b.name, b.address, b.email, b.phone
	from orders o,product p, buyer b, recipient r
</sql>



</mapper>
