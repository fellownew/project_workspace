drop table cart;
drop table orders;
drop table center;
drop table pboard;
drop table product;
drop table seller;
drop table buyer;


select * from orders
select * from buyer


insert into orders (order_id,product_id,amount,status,buyer_id)
values('order-1','product-1','5','배송중','buyer-3');

create table buyer(
   buyer_id varchar2(20) primary key,
   password varchar2(50) not null,
   name varchar2(12) not null,
   address varchar2(100) not null,
   email varchar2(20) not null,
   phone varchar2(30) not null
);

create table seller(
   seller_id varchar2(20) primary key,
   password varchar2(50) not null,
   name varchar2(12) not null,
   gender varchar2(6) not null,
   address varchar2(100) not null,
   email varchar2(20) not null,
   phone varchar2(30) not null,
   auth varchar2(10) not null,
   admin varchar2(10) not null,
   corporate_number varchar2(12) not null
);

create table product(
   product_id number primary key,
   product_name varchar2(50) not null,
   product_price number not null,
   category varchar2(20) not null,
   product_info varchar2(2000) not null,
   image_path varchar2(200) not null,
   regi_date varchar2(10) not null,
   exp_date varchar2(10) not null,
   seller_id varchar2(20),
   
   constraint product_seller_id_fk foreign key(seller_id) references seller(seller_id) ON DELETE CASCADE
);



create table cart(
   buyer_id varchar2(20),
   product_id number,
   amount number,
   
   constraint cart_buyer_id_fk foreign key(buyer_id) references buyer(buyer_id) ON DELETE CASCADE,
   constraint cart_product_id_fk foreign key(product_id) references product(product_id) ON DELETE CASCADE
);

create table orders(
   order_id varchar2(10) primary key,
   product_id number,
   amount number,
   status varchar2(10),
   buyer_id varchar2(20),
   
   constraint order_product_id_fk foreign key(product_id) references product(product_id) ON DELETE CASCADE,
   constraint order_buyer_id_fk foreign key(buyer_id) references buyer(buyer_id) ON DELETE CASCADE
);

create table center(
	board_no number primary key,
	title varchar2(20) not null,
	content varchar2(2000) not null,
	id varchar2(20) not null
);

create table pboard(
	board_no number primary key,
	title varchar2(20) not null,
	content varchar2(2000) not null,
	product_id number not null,
	buyer_id varchar2(20) not null,
	
	constraint pboard_product_id_pk foreign key(product_id) references product(product_id) ON DELETE CASCADE,
	constraint pboard_buyer_id_fk foreign key(buyer_id) references buyer(buyer_id) ON DELETE CASCADE

);


insert into seller (seller_id,password,name,gender,address,email,phone,auth,admin,corporate_number)
values('seller-1','1111','홍길동','남','서울','df@df.com','010-1234-1234','true','false','1234-23125');

insert into seller (seller_id,password,name,gender,address,email,phone,auth,admin,corporate_number)
values('admin','admin','홍길동','남','서울','df@df.com','010-1234-1234','true','true','1111-11111');


insert into seller (seller_id,password,name,gender,address,email,phone,auth,admin,corporate_number)
values('seller-15','1111','홍길동','남','서울','df@df.com','010-1234-1234','true','false','1234-23125');

insert into seller (seller_id,password,name,gender,address,email,phone,auth,admin,corporate_number)
values('seller-16','1111','홍길동','남','서울','df@df.com','010-1234-1234','true','false','1234-23125');

insert into seller (seller_id,password,name,gender,address,email,phone,auth,admin,corporate_number)
values('seller-17','1111','홍길동','남','서울','df@df.com','010-1234-1234','true','false','1234-23125');

insert into seller (seller_id,password,name,gender,address,email,phone,auth,admin,corporate_number)
values('seller-18','1111','홍길동','남','서울','df@df.com','010-1234-1234','true','false','1234-23125');

insert into seller (seller_id,password,name,gender,address,email,phone,auth,admin,corporate_number)
values('seller-19','1111','홍길동','남','서울','df@df.com','010-1234-1234','true','false','1234-23125');

insert into seller (seller_id,password,name,gender,address,email,phone,auth,admin,corporate_number)
values('seller-20','1111','홍길동','남','서울','df@df.com','010-1234-1234','true','false','1234-23125');

insert into seller (seller_id,password,name,gender,address,email,phone,auth,admin,corporate_number)
values('seller-21','1111','홍길동','남','서울','df@df.com','010-1234-1234','true','false','1234-23125');
insert into seller (seller_id,password,name,gender,address,email,phone,auth,admin,corporate_number)
values('seller-22','1111','홍길동','남','서울','df@df.com','010-1234-1234','true','false','1234-23125');


select c_product_id.nextval from dual

select * from seller
select * from product
select * from buyer

select * from cart

insert into cart values('123456',61,2);
insert into cart values('123456',62,4);
insert into cart values('123456',63,15);
insert into cart values('123456',65,1);

select count(*)from product


select product_id,product_name,product_price,category,product_info,image_path,regi_date,exp_date,seller_id
from (
	select product_id,product_name,product_price,category,product_info,image_path,regi_date,exp_date,seller_id
		from product where category = 'fruit'
	order by DBMS_RANDOM.VALUE
	)
where (rownum <= 5)


