<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="kr.co.taommall.order.dao">

	<sql id="order-select">
		select order_id,
			   product_id,
			   buyer_id,
			   amount,
			   status,
			   board_no
		from orders
	</sql>
	
	<resultMap type="order" id="order-resultmap">
		<id column="order_id" property="orderId"/>
		<result column="product_id" property="productId"/>
		<result column="buyer_id" property="buyerId"/>
		<result column="amount" property="amount"/>
		<result column="status" property="status"/>
		<result column="board_no" property="boardNo"/>
	</resultMap>

	<insert id="insertOrder" parameterType="Order">
		insert into member (order_id, product_id, buyer_id, amount, status, board_no)
		values(#{orderId}, #{productId}, #{buyerId}, #{amount}, #{status}, #{boardNo, jdbcType=VARCHAR})
	</insert>
	
	<update id="updateOrder" parameterType="order">
		update order set order_id=#{orderId},
						 product_id=#{productId},
						 buyer_id=#{buyerId},
						 amount=#{amount},
						 status=#{status},
						 board_no=#{boardNo}
			where order_id=#{orderId}
	</update>
	
	<delete id="deleteOrder" parameterType="String">
		delete from order where order_id=#{orderId}
	</delete>
	

</mapper>